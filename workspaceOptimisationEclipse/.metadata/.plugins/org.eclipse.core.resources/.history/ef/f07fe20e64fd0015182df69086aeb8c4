package object;

import java.util.Vector;

public class Poule {

	private static int max_size;
	private Vector<Equipe> mesEquipes;
	/**
	 * Liste des ID des équipes dans la poule {@link Equipe.numeroEquipe}
	 */
	private Vector<Integer> idEquipes;
	private Double distanceTotale;
	private double niveau;

	public Poule() {
		this.setMesEquipes(new Vector<Equipe>());
		this.setIdEquipes(new Vector<Integer>());
		this.setNiveau(0.0);
		this.setDistanceTotale(0.0);
	}

	/**
	 * @return the mesEquipes
	 */
	public Vector<Equipe> getMesEquipes() {
		return mesEquipes;
	}	

	public void setDistanceTotale(Double distance) {
		this.distanceTotale = distance;
	}

	public void setNiveau(double niveau) {
		this.niveau = niveau;
	}		
	
	public Double getDistanceTotale()
	{
		return this.distanceTotale;
	}
	
	public double getNiveau()
	{
		return this.niveau;
	}	
	/**
	 * * Calcul du niveau de la poule (Somme des niveaux des Equipes)
	 * 
	 */
	public void calculNiveau()
	{
		for(Equipe e : this.getMesEquipes()) {
			this.setNiveau(e.getNiveau()+this.getNiveau());
		}
	}
	
	/**
	 * Calcul de la distance totale de la Poule
	 */
	public void calculDistanceTotale() {
		for(Equipe e : this.getMesEquipes()) {
			for(Integer i : this.=.getIdEquipes()()) {
				this.setDistanceTotale(e.getMatriceDistance().get(i)+this.getDistanceTotale());
			}
		}
	}
	
	/**
	 * @param mesEquipes the mesEquipes to set
	 */
	public void setMesEquipes(Vector<Equipe> mesEquipes) {
		if(mesEquipes.size() <= max_size) {
			this.mesEquipes = mesEquipes;
		} else {
			System.out.println("Impossible d'ajouter plus d'ï¿½quipe que la taille maximum autorisï¿½");
		}
	}

	public void addEquipeInPoule(Equipe eTemp) {
		if(this.getMesEquipes().size() <= max_size) {
			this.getMesEquipes().add(eTemp);
		} else {
			System.out.println("Impossible d'ajouter plus d'ï¿½quipe que la taille maximum autorisï¿½");
		}
	}

	/**
	 * @return the max_size
	 */
	public static int getMax_size() {
		return max_size;
	}


	/**
	 * @param max_size the max_size to set
	 */
	public static void setMax_size(int max_size) {
		Poule.max_size = max_size;
	}

	public Vector<Integer> getIdEquipes() {
		return idEquipes;
	}

	public void setIdEquipes(Vector<Integer> idEquipes) {
		this.idEquipes = idEquipes;
	}
	
	@Override
	public String toString() {
		String res = "";
		res = "[mesEquipes = ";
		for(Equipe e : this.getMesEquipes()) {
			res += e.toString() + "\n";
		}
		res += "]";
		res += "\nNiveau de la poule : " + this.getNiveau();
		res += "\nDistance total à  parcourir : " + this.getDistanceTotale();
		res += "\n";
		return res;
	}
}
